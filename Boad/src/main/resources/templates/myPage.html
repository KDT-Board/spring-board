<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>MyPage</title>
    <script>
        // 페이지 로드 시 accessToken 확인
        document.addEventListener('DOMContentLoaded', () => {
            const accessToken = sessionStorage.getItem('accessToken');
            if (!accessToken) {
                alert('로그인이 필요합니다.');
                window.location.href = '/view/user/main'; // 메인 페이지로 리다이렉트
            }
        });
    </script>
</head>
<body>
<header>
    <nav style="background-color: green; padding: 10px;">
        <a href="/" th:href="@{/}" style="margin-right: 10px; color: black; text-decoration: none;">Home</a>
        <a href="/view/user/join" th:href="@{/view/user/join}" style="margin-right: 10px; color: black; text-decoration: none;">가입인사</a>
        <a href="/view/board/free" th:href="@{/view/board/free}" style="margin-right: 10px; color: black; text-decoration: none;">자유게시판</a>
        <a href="/view/board/gold" th:href="@{/view/board/gold}" style="margin-right: 10px; color: black; text-decoration: none;">골드게시판</a>
        <a href="/view/user/info" th:href="@{/view/user/info}" style="margin-right: 10px; color: black; text-decoration: none;">마이페이지</a>
        <a href="/view/user/logout" th:href="@{/view/user/logout}" style="margin-right: 10px; color: black; text-decoration: none;">로그아웃</a>
    </nav>
</header>
<div class="container">
    <!-- 회원 정보 카드 -->
    <div class="info-card">
        <div class="info">
            <p th:if="${user != null}"><strong>ID : </strong> <span th:text="${user.id}">ID</span></p>
            <p th:if="${user != null}"><strong>닉네임 : </strong> <span th:text="${user.nickname}">닉네임</span></p>
            <p th:if="${user != null}"><strong>등급 : </strong> <span th:text="${user.grade}">등급</span></p>
<!--            <p><strong>받은 좋아요 : </strong> <span th:text="${likes}">받은 좋아요</span></p>-->
        </div>
        <div class="btn-group">
            <a class="btn btn-edit" th:href="@{/view/user/info/{number}(number=${user.number})}">정보 수정</a>
            <a class="btn btn-delete" th:href="@{/view/user/delete/{number}(number=${user.number})}">회원 탈퇴</a>
        </div>
    </div>
    <p th:if="${user == null}">로그인되지 않았습니다. 사용자 정보를 확인하려면 로그인하세요.</p>

<!--    &lt;!&ndash; 하단 버튼 &ndash;&gt;-->
<!--    <div class="action-buttons">-->
<!--        <button class="btn" th:onclick="|location.href='/users/myPage/posts'|">작성한 글</button>-->
<!--        <button class="btn" th:onclick="|location.href='/users/myPage/likedPosts'|">좋아요 누른 글</button>-->
<!--        <button class="btn" th:onclick="|location.href='/users/myPage/commentedPosts'|">댓글 추가한 글</button>-->
<!--    </div>-->

<!--    &lt;!&ndash; 글 목록 테이블 &ndash;&gt;-->
<!--    <table>-->
<!--        <thead>-->
<!--        <tr>-->
<!--            <th>작성자</th>-->
<!--            <th>제목</th>-->
<!--            <th>좋아요</th>-->
<!--            <th>댓글</th>-->
<!--            <th>작성일</th>-->
<!--        </tr>-->
<!--        </thead>-->
<!--        <tbody>-->
<!--        <tr th:each="post : ${posts}">-->
<!--            <td th:text="${post.author}">작성자</td>-->
<!--            <td th:text="${post.title}">-->

<!--                ```html-->
<!--                제목</td>-->
<!--            <td th:text="${post.likes}">0</td>-->
<!--            <td th:text="${post.comments}">0</td>-->
<!--            <td th:text="${post.createdDate}">2025-01-03</td>-->
<!--        </tr>-->
<!--        </tbody>-->
<!--    </table>-->
</div>
</body>
</html>